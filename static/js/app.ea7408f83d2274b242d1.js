webpackJsonp([1],{"0bc6":function(t,e){},"5T5y":function(t,e){},"5mJ5":function(t,e){},"9VGL":function(t,e){},H4H2:function(t,e){},JlHA:function(t,e){},MULD:function(t,e){},Mhqc:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s=n("C/JF"),i=n("fhbW"),r=n("1e6/"),o=n("bNL2"),l=n.n(o),c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var u=n("VU/8")({name:"App"},c,!1,function(t){n("dvsm")},null,null).exports,h=n("/ocq"),d={validColors:["red","yellow","green","blue","special"],validTypes:["0","1","2","3","4","5","6","7","8","9","skip","reverse","+2","wild","wild+4"],deckConfig:{colors:["red","yellow","green","blue"],colorCounts:{0:1,1:2,2:2,3:2,4:2,5:2,6:2,7:2,8:2,9:2,skip:2,reverse:2,"+2":2},specialCounts:{wild:4,"wild+4":4}},handConfig:{initialCount:7},topConfig:{validColors:["red","yellow","green","blue"],validTypes:["0","1","2","3","4","5","6","7","8","9"]},createCard:function(t,e){if(-1==this.validColors.indexOf(t))throw"Invalid card color "+t;if(-1==this.validTypes.indexOf(e))throw"Invalid card type "+e;return{color:t,type:e}},createDeck:function(t=1){const e=[];return this.deckConfig.colors.forEach(t=>{Object.keys(this.deckConfig.colorCounts).forEach(n=>{for(let a=0;a<this.deckConfig.colorCounts[n];a++)e.push(this.createCard(t,n))})}),Object.keys(this.deckConfig.specialCounts).forEach(t=>{for(let n=0;n<this.deckConfig.specialCounts[t];n++)e.push(this.createCard("special",t))}),t>10&&e.push(...this.createDeck(t-10)),e},createHand:function(t){const e=[];for(let n=0;n<this.handConfig.initialCount;n++){const n=Math.floor(Math.random()*t.length);e.push(t[n]),t.splice(n,1)}return e},getTop:function(t){const e=t.filter(t=>this.topConfig.validColors.indexOf(t.color)>-1&&this.topConfig.validTypes.indexOf(t.type)>-1)[0];return{index:t.indexOf(e),card:e}},shuffleDeck:function(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}},equals:(t,e)=>(console.log("equals?",t,e,t&&e&&t.color==e.color&&t.type==e.type),t&&e&&t.color==e.color&&t.type==e.type),indexOf(t,e){for(let n=0;n<t.length;n++)if(this.equals(t[n],e))return n;return-1}},p=function(t,e,n){return"special"==t.color?"special"==n.color||n.color==e:"special"==n.color||t.type==n.type||t.color==n.color},m={animationConfig:{searchDelay:150,selectDelay:250},makeMove:function(t,e,n,a,s,i){const r=[],o=[],l=()=>{let e;o.length>0?e=this.chooseRandom(o):r.length>0&&(e=this.chooseRandom(r)),a(e),setTimeout(()=>i(t[e]),this.animationConfig.selectDelay)},c=i=>()=>{a(i),i<t.length&&p(n,e,t[i])&&(r.push(i),"special"!=t[i].color&&o.push(i)),i==t.length-1&&0==r.length?(s(),setTimeout(c(i+1),this.animationConfig.searchDelay)):i==t.length-1&&r.length>0?setTimeout(l,this.animationConfig.searchDelay):setTimeout(c(i+1),this.animationConfig.searchDelay)};c(0)()},makeMoveBasic:function(t,e,n){let a=t.filter(t=>p(n,e,t)),s=a.filter(t=>"special"!=t.type);return s.length>0?this.chooseRandom(s):a.length>0&&this.chooseRandom(a)},selectColor:function(t){const e={};for(let n of t)e[n.color]=e[n.color]+1||1;let n=0,a=null;for(let t in e)e[t]>n&&(n=e[t],a=t);return null==a&&(a=this.chooseRandom(d.deckConfig.colors)),a},chooseRandom:function(t){return t[Math.floor(Math.random()*t.length)]}},f={},v=function(t,e){f[t]=e},y=function(t){return f[t]},g=function(t,e){return t.map(t=>({name:t.name,id:t.id,human:t.human,remote:t.remote,selectedCardIndex:-1,hand:d.createHand(e)}))},C=t=>{const e=[];for(let n=0;n<t;n++)e.push(d.createCard("special","wild+4"));return e},k=(t,e)=>{t.boardDirection=e.boardDirection,t.currentPlayer=e.currentPlayer,t.deck=e.deck,t.manualColor=e.manualColor,console.log(e.players.map(t=>t.name)),t.players=e.players.map((e,n)=>({hand:e.hand,human:e.human,id:e.id,name:e.name,selectedCardIndex:e.selectedCardIndex,remote:t.players[n].remote})),t.stack=e.stack},_={name:"Card",props:["color","type","selectable","animateRemoving","animateDisabled","shrinkAmount","padding","hoverFocus"],data:function(){return{typeSpecials:["skip","reverse","wild"],swooshSpecials:["+2","skip","reverse","wild","wild+4"],animationOutCompleted:!1}},computed:{typeDisplay:function(){return"wild+4"==this.type?"+4":this.typeDisplayHasSvg?'<svg><use xlink:href="/static/'+this.type+".svg#"+this.type+'"></use></svg>':this.type},typeDisplayHasSvg:function(){return-1!=this.typeSpecials.indexOf(this.type)},swooshDisplay:function(){return this.swooshHasSvg?'<svg><use xlink:href="/static/'+this.type+".svg#"+this.type+'"></use></svg>':this.type},swooshHasSvg:function(){return-1!=this.swooshSpecials.indexOf(this.type)},selectableClass:function(){return!1===this.selectable?"no-select":"selectable"},animateClass:function(){return this.animateRemoving?"out":this.animateDisabled?"no-animate":""},hoverFocusClass:function(){return this.hoverFocus?"hover-focus":""}},watch:{animateRemoving:function(){var t=this;setTimeout(function(){return t.animationOutCompleted=!0},10)}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card",class:[t.color,t.type,t.selectableClass,t.animateClass,t.hoverFocusClass],style:{marginLeft:t.shrinkAmount,marginRight:t.padding}},[n("div",{staticClass:"card-inner"},[n("span",{staticClass:"top-num",class:{hasSvg:t.typeDisplayHasSvg},domProps:{innerHTML:t._s(t.typeDisplay)}}),t._v(" "),n("div",{staticClass:"swoosh"}),t._v(" "),n("span",{staticClass:"swish-num",class:{hasSvg:t.swooshHasSvg},domProps:{innerHTML:t._s(t.swooshDisplay)}}),t._v(" "),n("span",{staticClass:"bottom-num",class:{hasSvg:t.typeDisplayHasSvg},domProps:{innerHTML:t._s(t.typeDisplay)}})])])},staticRenderFns:[]};var w=n("VU/8")(_,b,!1,function(t){n("hYhj")},"data-v-1627477f",null).exports,M={cache:[],getKey:function(t,e){return Math.max(e-t-1,0)},hasKey:function(t){return this.cache.length>t},getRotation:function(t,e){var n=this.getKey(t,e);if(this.hasKey(n))return console.log("hasKey"+n),this.cache[n];console.log("no hasKey"+n);var a=this.getRandomInt(-45,45)+"deg";return this.cache[n]=a,a},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},P={name:"CardStack",components:{Card:w},props:["stack"],methods:{getStackRotation:M.getRotation.bind(M)}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stack"},t._l(t.stack,function(e,a){return a<8?n("Card",{key:"field-"+a,style:{zIndex:8-a,transform:"rotate("+t.getStackRotation(a,t.stack.length)+") translate(-50%, -50%)"},attrs:{selectable:!1,animateDisabled:!0,color:e.color,type:e.type}}):t._e()}),1)},staticRenderFns:[]};var S=n("VU/8")(P,x,!1,function(t){n("mLt1")},"data-v-377bf614",null).exports,E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-view",class:{dark:t.dark}},[n("div",{staticClass:"chat-header"},[n("h1",[t._v("Pokalbis")]),t._v(" "),t.onClose?n("font-awesome-icon",{attrs:{icon:"times-circle",size:"2x"},on:{click:t.onClose}}):t._e()],1),t._v(" "),n("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll"}],staticClass:"chat-box"},t._l(t.messages,function(e,a){return n("div",{key:a,staticClass:"message"},[n("span",{staticClass:"sender"},[t._v(t._s(e.sender))]),t._v(" "),n("span",{staticClass:"content"},[t._v(t._s(e.content))])])}),0),t._v(" "),n("div",{staticClass:"compose-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.messageDraft,expression:"messageDraft"}],staticClass:"message-input",attrs:{type:"text",placeholder:"Rašyti žinutę..."},domProps:{value:t.messageDraft},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage()},input:function(e){e.target.composing||(t.messageDraft=e.target.value)}}}),t._v(" "),n("button",{staticClass:"vbtn",on:{click:function(e){return t.sendMessage()}}},[t._v("Siųsti")])])])},staticRenderFns:[]};var $=n("VU/8")({name:"ChatView",props:["dark","onClose"],data:function(){return{messages:[],messageDraft:""}},sockets:{newMessage:function(t){this.messages.push(t)}},methods:{sendMessage:function(){0!=this.messageDraft.length&&(this.$network.emit("newMessage",this.messageDraft),this.messageDraft="")}}},E,!1,function(t){n("Zkfr")},"data-v-040cdf02",null).exports,I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"color-selector-container full-screen"},[n("div",{staticClass:"color-selector"},[n("p",[t._v("Pasirinkite spalvą!")]),t._v(" "),n("div",{staticClass:"colors-container"},[n("div",{staticClass:"color red",on:{click:function(e){return t.selectColor("red")}}},[t._v("Raudona")]),t._v(" "),n("div",{staticClass:"color yellow",on:{click:function(e){return t.selectColor("yellow")}}},[t._v("Geltona")]),t._v(" "),n("div",{staticClass:"color green",on:{click:function(e){return t.selectColor("green")}}},[t._v("Žalia")]),t._v(" "),n("div",{staticClass:"color blue",on:{click:function(e){return t.selectColor("blue")}}},[t._v("Mėlyna")])])])])},staticRenderFns:[]};var D=n("VU/8")({name:"ColorSelectorModal",props:["show","selectColor"]},I,!1,function(t){n("JlHA")},"data-v-333ab024",null).exports,O={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"card-back",class:[this.selectableClass,this.selectedClass]},[this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-inner"},[e("span",{staticClass:"spacer"}),this._v(" "),e("div",{staticClass:"swoosh"}),this._v(" "),e("span",{staticClass:"swish-content"},[this._v("UNO")]),this._v(" "),e("span",{staticClass:"spacer"})])}]};var N={name:"CardBackHand",props:["count","selected"],components:{CardBack:n("VU/8")({name:"CardBack",props:["selectable","selected"],computed:{selectableClass:function(){return!1===this.selectable?"no-select":"selectable"},selectedClass:function(){return this.selected?"selected":""}}},O,!1,function(t){n("iHBk")},"data-v-0d7d1958",null).exports},computed:{iterable:function(){for(var t=[],e=0;e<this.count;e++)t.push(e);return t}}},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-back-hand"},t._l(t.iterable,function(e){return n("CardBack",{key:e,attrs:{selectable:!1,selected:t.selected==e}})}),1)},staticRenderFns:[]};var H=n("VU/8")(N,L,!1,function(t){n("NnsG")},"data-v-07764f52",null).exports;function R(t,e){return 1==e?.5:2==e?(t+1)/3:2!=e?t/(e-1):void 0}var F={getOpponentDetailStyle:function(t,e){var n=R(t,e),a=n*Math.PI;return{left:"calc(50% * "+-1*Math.cos(a)+" + 50%)",top:"calc(50vh * "+-1*Math.sin(a)+" + 50vh)",transform:"translateX(-"+150*n+"px)"}},getOpponentHandStyle:function(t,e){var n=R(t,e),a=n*Math.PI;return{left:"calc(50% * "+-1*Math.cos(a)+" + 50% + "+-400*(n-.5)+"px)",top:"calc(50vh * "+-1*Math.sin(a)+" + 50vh + 200px)",transform:"rotate("+(.5*Math.PI+a)+"rad) scale(0.25) translateX(-"+100*(1-n)+"%)"}}},A=["#55efc4","#a29bfe","#81ecec","#dfe6e9","#ff7675","#ffeaa7","#74b9ff","#fab1a0","#fd79a8"],G={name:"OpponentDetailLayer",components:{CardBackHand:H},props:["opponents","currentPlayer","players"],methods:{getOpponentSelected:function(t){return this.players[t].selectedCardIndex},log:function(t){console.log(t)},getOpponentDetailStyle:F.getOpponentDetailStyle,getColor:function(t){return A[t%A.length]}}},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"opponent-detail-layer full-screen"},t._l(t.opponents,function(e,a){return n("div",{key:e.id,staticClass:"opponent",class:{active:e.id==t.currentPlayer},style:t.log(t.getOpponentDetailStyle(a,t.opponents.length))||t.getOpponentDetailStyle(a,t.opponents.length)},[n("div",{staticClass:"content",style:{backgroundColor:t.getColor(a)}},[n("span",{staticClass:"player-name"},[e.human?t._e():n("font-awesome-icon",{attrs:{icon:"robot","fixed-width":""}}),n("br"),t._v(t._s(e.name))],1),t._v(" "),n("span",{staticClass:"hand-count"},[n("span",[t._v(t._s(e.hand.length))]),t._v(" "),n("svg",[n("use",{attrs:{"xlink:href":"/static/+2.svg#+2"}})])])])])}),0)},staticRenderFns:[]};var V=n("VU/8")(G,T,!1,function(t){n("Mhqc")},"data-v-0a7b2214",null).exports,U={name:"OpponentHandLayer",components:{CardBackHand:H},props:["opponents","getPlayer","players"],methods:{getOpponentHandStyle:F.getOpponentHandStyle}},B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"opponent-hand-layer full-screen"},t._l(t.opponents,function(e,a){return n("div",{key:e.id,staticClass:"hand-container",style:t.getOpponentHandStyle(a,t.opponents.length)},[n("CardBackHand",{attrs:{count:t.getPlayer(e.id).hand.length,selected:t.getPlayer(e.id).selectedCardIndex}})],1)}),0)},staticRenderFns:[]};var j=n("VU/8")(U,B,!1,function(t){n("5mJ5")},"data-v-65d44c6f",null).exports,K=n("BO1k"),W=n.n(K),z=["#55efc4","#81ecec","#74b9ff","#a29bfe","#dfe6e9","#ffeaa7","#fab1a0","#ff7675","#fd79a8"],q={name:"SpinBackground",props:["direction"],data:function(){return{directionFactor:1,shapes:[]}},mounted:function(){for(var t=0;t<100;t++)this.addRandomShape();this.resizeCanvas(),window.addEventListener("resize",this.resizeCanvas),window.requestAnimationFrame(this.updateShapes)},methods:{addRandomShape:function(){this.shapes.push({timeOffset:4e4*Math.random(),xOffsetFactor:.5*Math.random()+1,yOffsetFactor:.5*Math.random()+1,xOffsetPeriodFactor:.5*Math.random()-1,yOffsetPeriodFactor:.5*Math.random()-1,periodFactor:.5*Math.random()-1,x:200,y:100,offsetRad:2*Math.random()*Math.PI,radiusPeriodFactor:.5*Math.random()+1,fill:z[Math.floor(Math.random()*z.length)]})},resizeCanvas:function(){this.$refs.spinCanvas&&(this.$refs.spinCanvas.width=this.getWidth(),this.$refs.spinCanvas.height=window.innerHeight)},flipDirection:function(){console.log("flip"),this.direction=-1*this.direction},getWidth:function(){return this.$refs.spinCanvasContainer.parentElement.clientWidth},getValues:function(){return{amplitudeX:this.getWidth()/3,amplitudeY:window.innerHeight/3,centerX:this.getWidth()/2,centerY:window.innerHeight/2,offsetX:this.getWidth()/10,offsetY:window.innerHeight/10}},updateShapes:function(t){if(this.$refs&&this.$refs.spinCanvas&&this.$refs.spinCanvas.getContext){var e=this.$refs.spinCanvas.getContext("2d");e.clearRect(0,0,this.$refs.spinCanvas.width,this.$refs.spinCanvas.height),this.directionFactor=.75*this.direction+.25*this.directionFactor;var n=this.getValues(),a=n.amplitudeX,s=n.amplitudeY,i=n.centerX,r=n.centerY,o=n.offsetX,l=n.offsetY,c=!0,u=!1,h=void 0;try{for(var d,p=W()(this.shapes);!(c=(d=p.next()).done);c=!0){var m=d.value,f=t+m.timeOffset;m.x=a*Math.sin(this.directionFactor*f*2*Math.PI/5e4*m.periodFactor+m.offsetRad)+i+o*m.xOffsetFactor*Math.sin(2*f*Math.PI/5e4*m.xOffsetPeriodFactor),m.y=s*Math.cos(this.directionFactor*f*2*Math.PI/5e4*m.periodFactor+m.offsetRad)+r+l*m.yOffsetFactor*Math.sin(2*f*Math.PI/5e4*m.yOffsetPeriodFactor);var v=15*(.5*Math.sin(2*f*Math.PI/3e4*m.radiusPeriodFactor)+1.5);e.fillStyle=m.fill+"88",e.beginPath(),e.arc(m.x,m.y,v,0,2*Math.PI),e.fill()}}catch(t){u=!0,h=t}finally{try{!c&&p.return&&p.return()}finally{if(u)throw h}}}window.requestAnimationFrame(this.updateShapes)}}},J={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"spinCanvasContainer",staticClass:"spin-canvas full-screen"},[e("canvas",{ref:"spinCanvas"})])},staticRenderFns:[]};var Y=n("VU/8")(q,J,!1,function(t){n("0bc6")},"data-v-b6ad75c8",null).exports,X={name:"Game",components:{Card:w,CardStack:S,ChatView:$,ColorSelectorModal:D,OpponentDetailLayer:V,OpponentHandLayer:j,SpinBackground:Y},mounted:function(){var t=this;this.uno=new class{constructor(t,e){const n=d.createDeck(t.length);d.shuffleDeck(n);const a=d.getTop(n);n.splice(a.index,1),this.deck=n,this.secondaryDeck=[],this.stack=[a.card],this.players=g(t,n),this.boardDirection=1,this.manualColor=null,this.currentPlayer=this.players[0].id,this.nextQueued=!1,this.emit=e}get topStack(){return this.stack[0]}getPlayers(){return this.players}get playerList(){return this.players.map(t=>t.id)}get nextPlayer(){let t=this.playerList.indexOf(this.currentPlayer)+this.boardDirection;return t>=this.playerList.length?t=0:t<0&&(t=this.playerList.length-1),this.playerList[t]}getPlayer(t){return this.players.filter(e=>e.id==t)[0]||{}}playCard(t,e){if(p(this.topStack,this.manualColor,e)){this.stack.unshift(e),this.secondaryDeck.push(e);let n=d.indexOf(this.getPlayer(t).hand,e);if(this.getPlayer(t).hand.splice(n,1),this.getPlayer(t).selectedCardIndex=-1,!0===this.playSideEffects(t,e))return;this.nextTurn()}}playSideEffects(t,e){if("skip"==e.type&&this.nextTurn(!0),"reverse"==e.type&&(this.boardDirection*=-1,2==this.players.length&&this.nextTurn(!0)),"+2"==e.type&&(this.draw(this.nextPlayer,2),this.nextTurn(!0)),"wild"==e.type||"wild+4"==e.type)return this.manualColor=null,"wild+4"==e.type&&(this.draw(this.nextPlayer,4),this.nextTurn(!0,!0)),this.emit("needColor"),!0}setManualColor(t){this.manualColor=t,this.nextTurn()}draw(t,e=1){if(this.deck.length<e){d.shuffleDeck(this.secondaryDeck);for(let t=0;t<this.secondaryDeck.length;t++)this.deck.unshift(this.secondaryDeck[t]);this.secondaryDeck=[]}for(let n=0;n<e;n++){const e=Math.floor(Math.random()*this.deck.length);this.getPlayer(t).hand.push(this.deck[e]),this.deck.splice(e,1)}}nextTurn(t=!1,e=!1){if(this.nextQueued&&(this.nextQueued=!1,this.nextTurn(!0)),e)this.nextQueued=!0;else{if(0==this.getPlayer(this.currentPlayer).hand.length)return this.emit("win",this.currentPlayer),void(this.currentPlayer=null);this.currentPlayer=this.nextPlayer,t||this.emit("nextTurn")}}remoteSetState(t){k(this,t)}remoteSetPlayerHand(t,e){this.getPlayer(t).hand=e}remoteSetPlayerHandLength(t,e){this.getPlayer(t).hand=C(e)}remoteSetPlayerSelectedCardIndex(t,e){this.getPlayer(t).selectedCardIndex=e}remoteSetCurrentPlayer(t){this.currentId=t}remoteSetBoardDirection(t){this.boardDirection=t}remoteSetManualColor(t){this.manualColor=t}remoteSetStack(t){this.stack=t}}(y("players"),this.emit),this.playerId=y("playerId"),this.$network.online&&this.$network.emit("resyncGame"),this.$nextTick(function(){t.windowWidth=t.$refs.game.clientWidth,window.addEventListener("resize",function(){t.windowWidth=t.$refs.game.clientWidth})})},beforeDestroy:function(){this.$network.online&&this.$network.emit("leaveMatch")},data:function(){return{playerId:"Andrey",uno:null,localGame:this.$network.offline,needColor:!1,removeIndex:-1,removing:!1,windowWidth:1920,shrinkAmount:0,showChat:this.$network.online,winnerName:"",showWinnerModal:!1,showLoserModal:!1}},methods:{emit:function(t){if(this.localGame){var e=this.uno.getPlayer(this.uno.currentPlayer);"needColor"==t&&!1===e.human&&!1===e.remote?this.uno.setManualColor(m.selectColor(e.hand)):"needColor"==t?this.needColor=!0:"win"==t&&alert("winner: "+data)}else"needColor"==t&&(this.needColor=!0)},selectColor:function(t){this.needColor=!1,this.localGame?this.uno.setManualColor(t):this.$network.emit("userSelectColor",t)},draw:function(){this.localGame?this.uno.draw(this.playerId):this.$network.emit("draw")},selectCard:function(t,e){var n=this;!this.localGame||p(this.uno.topStack,this.uno.manualColor,t)?-1==this.removeIndex&&(this.removeIndex=e,this.removing=!0,setTimeout(function(){n.playCard(t,e),setTimeout(function(){return n.removing=!1},250)},250)):alert("That is not a valid move.")},playCard:function(t,e){this.localGame?this.uno.playCard(this.playerId,t):this.$network.emit("playCard",t)},mouseover:function(t){!this.localGame&&this.playerTurn&&this.$network.emit("userHighlightCard",t)},computeShrinkAmount:function(){if(this.compressed){var t=this.playerHand.length,e=152*(t+1);this.shrinkAmount=(e-this.windowWidth)/t}else this.shrinkAmount=0},quit:function(){this.localGame?this.$router.push({path:"/lobby/offline/"}):(this.$network.online&&this.$network.emit("leaveMatch"),this.$router.push({path:"/lobby/"}))}},computed:{currentColor:function(){return null==this.uno.topStack?"":"special"!=this.uno.topStack.color?this.uno.topStack.color:this.uno.manualColor||"special"},playerHand:function(){return null===this.uno?[]:this.uno.getPlayer(this.playerId).hand},currentPlayer:function(){return null===this.uno?"":this.uno.currentPlayer},playerTurn:function(){return this.currentPlayer==this.playerId},direction:function(){return this.uno.boardDirection},opponents:function(){var t=this;if(null===this.uno)return[];for(var e=this.uno.getPlayers().slice();e[0].id!=this.playerId;)e.push(e.shift());return e.filter(function(e){return e.id!=t.playerId})},compressed:function(){return 180*this.playerHand.length>this.windowWidth},shrinkAmountPadding:function(){return 1.2*this.shrinkAmount+"px"},shrinkAmountPx:function(){return"-"+this.shrinkAmount+"px"}},watch:{currentPlayer:function(t){var e=this,n=this.uno.getPlayer(t);if(n.selectedCardIndex=-1,!1===n.human&&!1===n.remote){var a=function(t){n.selectedCardIndex=t};m.makeMove(n.hand,this.uno.manualColor,this.uno.topStack,a,function(){e.uno.draw(e.currentPlayer)},function(t){a(-1),e.uno.playCard(e.currentPlayer,t)})}},playerHand:function(){this.removeIndex=-1,this.computeShrinkAmount()},windowWidth:function(){this.computeShrinkAmount()},showChat:function(){this.$nextTick(function(){window.dispatchEvent(new Event("resize"))})}},sockets:{onError:function(t){console.log("Error from server: "+t)},onWin:function(t){t==this.playerId?this.showWinnerModal=!0:(this.showLoserModal=!0,this.winnerName=this.uno.getPlayer(t).name)},onGameEmit:function(t){this.emit(t)},setPlayerHand:function(t){var e=t.id,n=t.hand;this.uno.remoteSetPlayerHand(e,n)},setPlayerHandLength:function(t){var e=t.id,n=t.length;this.uno.remoteSetPlayerHandLength(e,n)},setPlayerSelectCardIndex:function(t){var e=t.id,n=t.index;this.uno.remoteSetPlayerSelectedCardIndex(e,n)},setCurrentPlayer:function(t){this.uno.remoteSetCurrentPlayer(t)},setBoardDirection:function(t){this.uno.remoteSetBoardDirection(t)},setManualColor:function(t){this.uno.remoteSetManualColor(t)},setStack:function(t){this.uno.remoteSetStack(t)},unoStateUpdate:function(t){this.uno.remoteSetState(t)}}},Q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!=t.uno?n("div",{staticClass:"game-container full-screen",class:[t.currentColor]},[t.showChat?n("ChatView",{attrs:{dark:!0,onClose:function(){return t.showChat=!1}}}):t._e(),t._v(" "),n("div",{ref:"game",staticClass:"game"},[n("SpinBackground",{attrs:{direction:t.direction}}),t._v(" "),n("OpponentDetailLayer",{attrs:{opponents:t.opponents,currentPlayer:t.uno.currentPlayer,players:t.uno.players}}),t._v(" "),n("OpponentHandLayer",{attrs:{opponents:t.opponents,getPlayer:t.uno.getPlayer,players:t.uno.players}}),t._v(" "),n("CardStack",{attrs:{stack:t.uno.stack}}),t._v(" "),n("ColorSelectorModal",{attrs:{show:t.needColor,selectColor:t.selectColor}}),t._v(" "),n("div",{staticClass:"player-controls"},[n("transition-group",{ref:"playerHand",staticClass:"player-hand",class:{inactive:!t.playerTurn},style:{marginLeft:t.shrinkAmountPadding},attrs:{name:"list",tag:"div"}},t._l(t.playerHand,function(e,a){return n("Card",{key:"hand"+a,attrs:{color:e.color,type:e.type,animateIn:!0,animateDisabled:a!=t.removeIndex&&t.removing,animateRemoving:a==t.removeIndex,hoverFocus:!0,shrinkAmount:t.shrinkAmountPx,padding:"32px"},nativeOn:{click:function(n){return t.selectCard(e,a)},mouseover:function(e){return t.mouseover(a)}}})}),1),t._v(" "),n("div",{staticClass:"player-btns"},[n("div",{staticClass:"draw",on:{click:t.draw}},[t._v("Traukti kortą")])])],1)],1),t._v(" "),t.showWinnerModal||t.showLoserModal?n("div",{staticClass:"modal-overlay"},[t.showWinnerModal?n("div",{staticClass:"modal winner-modal"},[n("img",{staticClass:"illustration",attrs:{src:"/static/koala-celebrating.png"}}),t._v(" "),n("div",{staticClass:"modal-content"},[n("h1",[t._v("Laimėtojas!")]),t._v(" "),n("p",[t._v("\n          Sveikinu tu laimėjai! Žaidžiam dar kartą?\n        ")]),t._v(" "),n("button",{staticClass:"vbtn",on:{click:function(e){return t.quit()}}},[t._v("Grįžti atgal")])])]):t._e(),t._v(" "),t.showLoserModal?n("div",{staticClass:"modal loser-modal"},[n("img",{staticClass:"illustration",attrs:{src:"/static/koala-celebrating.png"}}),t._v(" "),n("div",{staticClass:"modal-content"},[n("h1",[t._v(t._s(t.winnerName)+" laimėjo!")]),t._v(" "),n("p",[t._v("\n          Šį kartą nepasisekė, "+t._s(t.winnerName)+" laimėjo! Žaidžiam dar kartą?\n        ")]),t._v(" "),n("button",{staticClass:"vbtn",on:{click:function(e){return t.quit()}}},[t._v("Grįžti atgal")])])]):t._e()]):t._e()],1):t._e()},staticRenderFns:[]};var Z=n("VU/8")(X,Q,!1,function(t){n("zD5E")},"data-v-15074810",null).exports,tt={name:"Library",components:{Card:w},mounted:function(){var t=d.createDeck();d.shuffleDeck(t),this.deck=t},data:function(){return{deck:[]}}},et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"landing-container"},[n("div",{staticClass:"landing-layout"},[n("div",{staticClass:"landing-content"},[n("h1",[t._v("Uno!")]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"btn-container"},[n("router-link",{staticClass:"vbtn vbtn-transparent",attrs:{to:"/lobby/offline"}},[t._v("Žaisti neprisijungus")]),t._v(" "),n("router-link",{staticClass:"vbtn vbtn-large vbtn-blue",attrs:{to:"/lobby"}},[t._v("Žaisti internete")])],1),t._v(" "),t._m(1)]),t._v(" "),n("img",{staticClass:"border",attrs:{src:"/static/curvy-border.svg"}}),t._v(" "),n("img",{staticClass:"illustration",attrs:{src:"/static/koala-tree.png"}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n        Vieta sužaisti stalo žaidimą su draugais!"),e("br"),this._v("(arba priešais)\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer-links"},[e("a",{attrs:{href:"https://github.com/andreybutenko/uno",target:"_blank"}},[this._v("Atviras kodas")])])}]};var nt=n("VU/8")(tt,et,!1,function(t){n("gMMn")},"data-v-f78a8b72",null).exports,at={name:"Library",components:{Card:w},mounted:function(){var t=d.createDeck();d.shuffleDeck(t),this.deck=t},data:function(){return{deck:[]}}},st={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"game"},this._l(this.deck,function(t,n){return e("Card",{key:n,attrs:{color:t.color,type:t.type}})}),1)},staticRenderFns:[]};var it=n("VU/8")(at,st,!1,function(t){n("P5NS")},"data-v-e2ebd268",null).exports,rt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"intro-card lobby-ui"},[e("img",{staticClass:"koala",attrs:{src:"/static/koala-armsup.png"}}),this._v(" "),e("div",{staticClass:"text"},[this._v("Labas!"),e("br"),this._v("Sužaiskim Uno!")])])}]};var ot=n("VU/8")({name:"IntroCard"},rt,!1,function(t){n("eq4o")},"data-v-597aa067",null).exports,lt=n("Gu7T"),ct=n.n(lt),ut={name:"MatchList",props:["joinMatch","createMatch","currentMatch"],mounted:function(){this.$network.online&&this.$network.emit("refreshMatches")},data:function(){return{matches:[]}},methods:{getOpenSpots:function(t){return t.players.filter(function(t){return t.open}).length},getStatus:function(t){var e=this.getOpenSpots(t);t.players.length;return 0==e?"Full":1==e?"1 slot open":e+" slots open"}},sockets:{refreshMatches:function(t){this.matches=t}},computed:{sortedMatches:function(){var t=this,e=[],n=(this.currentMatch||{}).name;return e.push.apply(e,ct()(this.matches.filter(function(t){return t.name==n}))),e.push.apply(e,ct()(this.matches.filter(function(e){return t.getOpenSpots(e)>0&&e.name!=n}))),e.push.apply(e,ct()(this.matches.filter(function(e){return 0==t.getOpenSpots(e)&&e.name!=n}))),e},online:function(){return this.$network.online}}},ht={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"match-find lobby-ui"},[n("h1",[t._v("Žaidimai")]),t._v(" "),n("div",{staticClass:"match-list"},[t.online?n("div",{staticClass:"item-match create-match",class:{explicit:!0},on:{click:function(e){return t.createMatch()}}},[n("font-awesome-icon",{attrs:{icon:"plus-circle",size:"2x"}}),t._v(" "),n("span",{staticClass:"label"},[t._v("Sukurti naują žaidimą")])],1):n("div",{staticClass:"item-match create-match",class:{explicit:!0},on:{click:function(e){return t.createMatch()}}},[n("font-awesome-icon",{attrs:{icon:"rocket",size:"2x"}}),t._v(" "),n("span",{staticClass:"label"},[t._v("Pradėti žaidimą")])],1),t._v(" "),t._l(t.sortedMatches,function(e){return n("div",{key:e.name,staticClass:"item-match"},[n("span",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),n("span",{staticClass:"status"},[t._v(t._s(t.getStatus(e)))]),t._v(" "),n("span",{staticClass:"spacer"}),t._v(" "),n("button",{on:{click:function(n){return t.joinMatch(e.id)}}},[t._v("Prisijungti")])])})],2)])},staticRenderFns:[]};var dt={name:"MatchView",props:["playerId","playerName","currentMatch","startGame","leaveMatch","updateMatchNameOffline","addPlayerOffline","kickPlayer"],components:{ChatView:$},data:function(){return{nameEdit:"",nameEditEnabled:!1,usernameEdit:"",usernameEditEnabled:!1,shareVisible:!0}},methods:{editName:function(){this.nameEdit=this.currentMatch.name,this.nameEditEnabled=!0},applyEdit:function(){this.$network.online&&this.nameEdit!=this.currentMatch.name?this.$network.emit("updateMatchName",this.nameEdit):this.updateMatchNameOffline(this.nameEdit),this.nameEditEnabled=!1},editUsername:function(){this.usernameEdit=this.playerName,this.usernameEditEnabled=!0},applyUsernameEdit:function(){this.$network.emit("setPlayerName",this.usernameEdit),this.usernameEditEnabled=!1},addHumanSlot:function(){this.$network.emit("addHumanSlot")},addBotSlot:function(){this.$network.online?this.$network.emit("addBotSlot"):this.addPlayerOffline()},selectShareInput:function(){this.$refs.shareInput.select()}},computed:{sortedPlayers:function(){var t=[];return t.push.apply(t,ct()(this.currentMatch.players.filter(function(t){return t.human&&!t.open}))),t.push.apply(t,ct()(this.currentMatch.players.filter(function(t){return t.human&&t.open}))),t.push.apply(t,ct()(this.currentMatch.players.filter(function(t){return!t.human}))),t},isMatchAdmin:function(){var t=this;return this.$network.offline||null!=this.currentMatch&&this.currentMatch.players.filter(function(e){return e.player&&e.player.id==t.playerId})[0].admin},online:function(){return this.$network.online},shareUrl:function(){return this.$network.baseUrl+"/#/join/"+this.currentMatch.id}}},pt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"match-admin-container"},[n("div",{staticClass:"match-admin"},[n("div",{staticClass:"primary-panel"},[n("div",{staticClass:"title-container"},[t.nameEditEnabled?n("input",{directives:[{name:"model",rawName:"v-model",value:t.nameEdit,expression:"nameEdit"}],staticClass:"name-edit",attrs:{placeholder:"Match Name"},domProps:{value:t.nameEdit},on:{input:function(e){e.target.composing||(t.nameEdit=e.target.value)}}}):n("h1",[t._v(t._s(t.currentMatch.name))]),t._v(" "),!t.nameEditEnabled&&t.isMatchAdmin?n("button",{staticClass:"lbtn",on:{click:function(e){return t.editName()}}},[t._v("\n          Keisti kambario pavadinimą\n        ")]):t._e(),t._v(" "),t.nameEditEnabled?n("button",{staticClass:"lbtn",on:{click:function(e){return t.applyEdit()}}},[t._v("\n          Išsaugoti pavadinimą\n        ")]):t._e()]),t._v(" "),n("div",{staticClass:"vbtn-group"},[n("button",{staticClass:"vbtn vbtn-green vbtn-stacked-icon",on:{click:function(e){return t.startGame()}}},[n("font-awesome-icon",{attrs:{icon:"rocket",size:"2x"}}),t._v(" "),n("span",[t._v("Pradėti žaidimą")])],1),t._v(" "),t._e(),t._v(" "),n("button",{staticClass:"vbtn vbtn-stacked-icon",on:{click:function(e){return t.leaveMatch()}}},[n("font-awesome-icon",{attrs:{icon:"times",size:"2x"}}),t._v(" "),n("span",[t._v("Išeiti")])],1)]),t._v(" "),t.shareVisible?n("div",{staticClass:"share"},[n("span",[t._v("Pakviesk draugus į šį žaidimą: ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.shareUrl,expression:"shareUrl"}],ref:"shareInput",attrs:{readonly:""},domProps:{value:t.shareUrl},on:{click:function(e){return t.selectShareInput()},input:function(e){e.target.composing||(t.shareUrl=e.target.value)}}})]):t._e(),t._v(" "),n("div",{staticClass:"player-list",class:{admin:t.isMatchAdmin}},[t._l(t.sortedPlayers,function(e,a){return n("div",{key:a,staticClass:"player-row"},[e.admin?n("font-awesome-icon",{staticClass:"admin-icon",attrs:{icon:"crown","fixed-width":""}}):t._e(),t._v(" "),!e.human||e.admin||e.open||e.player.id==t.playerId?t._e():n("font-awesome-icon",{staticClass:"human-icon",attrs:{icon:"grin-beam","fixed-width":""}}),t._v(" "),!e.human||e.admin||e.open||e.player.id!=t.playerId?t._e():n("font-awesome-icon",{staticClass:"player-icon",attrs:{icon:"grin-beam","fixed-width":""}}),t._v(" "),e.human?t._e():n("font-awesome-icon",{staticClass:"robot-icon",attrs:{icon:"robot","fixed-width":""}}),t._v(" "),e.open?n("font-awesome-icon",{staticClass:"spinner-icon",attrs:{icon:"spinner","fixed-width":"",spin:""}}):t._e(),t._v(" "),e.open||e.player.id==t.playerId&&t.usernameEditEnabled?t._e():n("span",{staticClass:"name"},[t._v(t._s(e.player.name))]),t._v(" "),!e.open&&e.player.id==t.playerId&&t.usernameEditEnabled?n("input",{directives:[{name:"model",rawName:"v-model",value:t.usernameEdit,expression:"usernameEdit"}],staticClass:"name-edit",attrs:{placeholder:"User Name"},domProps:{value:t.usernameEdit},on:{input:function(e){e.target.composing||(t.usernameEdit=e.target.value)}}}):t._e(),t._v(" "),e.open?n("span",{staticClass:"name"},[n("i",[t._v("Laukiama kol prisijungs žmonių...")])]):t._e(),t._v(" "),!t.isMatchAdmin||e.human&&e.player&&e.player.id==t.playerId?t._e():n("button",{staticClass:"vbtn",on:{click:function(n){return t.kickPlayer(e.index||a)}}},[t._v("\n              "+t._s(e.human&&!e.open?"Išspirti":"Pašalinti")+"\n          ")]),t._v(" "),!t.online||e.open||e.player.id!=t.playerId||t.usernameEditEnabled?t._e():n("button",{staticClass:"vbtn",on:{click:function(e){return t.editUsername()}}},[t._v("\n              Keisti vardą\n          ")]),t._v(" "),!e.open&&e.player.id==t.playerId&&t.usernameEditEnabled?n("button",{staticClass:"vbtn vbtn-blue",on:{click:function(e){return t.applyUsernameEdit()}}},[t._v("\n              Save\n          ")]):t._e()],1)}),t._v(" "),1==t.currentMatch.players.length?n("div",{staticClass:"player-row notice-row"},[n("span",{staticClass:"notice"},[t._v("Pridek daugiau žmonių arba kompiuterinių žaidėjų ir pradėk!")])]):t._e()],2),t._v(" "),n("div",{staticClass:"center-button player-button-group"},[t.isMatchAdmin?n("button",{staticClass:"vbtn vbtn-stacked-icon",on:{click:function(e){return t.addBotSlot()}}},[n("font-awesome-icon",{attrs:{icon:"robot",size:"2x"}}),t._v(" "),n("span",[t._v("Pridėti kompiuterį")])],1):t._e(),t._v(" "),t.isMatchAdmin&&t.online?n("button",{staticClass:"vbtn vbtn-stacked-icon",on:{click:function(e){return t.addHumanSlot()}}},[n("font-awesome-icon",{attrs:{icon:"grin-beam",size:"2x"}}),t._v(" "),n("span",[t._v("Pridėti vietą žmogui")])],1):t._e()])]),t._v(" "),n("div",{staticClass:"secondary-panel"},[t.online?n("ChatView"):t._e()],1)])])},staticRenderFns:[]};var mt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player lobby-ui"},[n("h1",[t._v("Jūs")]),t._v(" "),0==t.nameEditEnabled?[n("div",{staticClass:"name"},[n("b",[t._v("Username:")]),t._v(" "+t._s(t.playerName))]),t._v(" "),n("div",{staticClass:"center-button"},[n("button",{staticClass:"vbtn",on:{click:function(e){return t.editName()}}},[t._v("Pakeisti vardą")])])]:[n("input",{directives:[{name:"model",rawName:"v-model",value:t.nameEdit,expression:"nameEdit"}],staticClass:"name-edit",attrs:{placeholder:"User Name"},domProps:{value:t.nameEdit},on:{input:function(e){e.target.composing||(t.nameEdit=e.target.value)}}}),t._v(" "),n("div",{staticClass:"center-button"},[n("button",{staticClass:"vbtn",on:{click:function(e){return t.applyEdit()}}},[t._v("Išsaugoti")])])]],2)},staticRenderFns:[]};const ft=["Glaudus","Daktaras","Šlapias","Lankstus","Šoklus","Guminis","Skystas","Skraidantis","Paniuręs","Apsinęšes","Lipnus","Gumboutas","Ramus","Gaivus","Ponia","Skanus","Ponas","Kreivas","Svyrantis","Supuvęs","Naminis","Glitus","Nešvarus","Kietas","Plėšrus","Atsargus","Blogas","Geras","Sunkus","Lengvas","Gražus"],vt=["Aromatas","Belgas","Karalius","Karalienė","Beprotis","Kotletas","Arbūzas","Sumuštinis","Apelsinas","Kivis","Automobolis","Dviratis","Taksi","Šokoladas","Ledas","Pultelis","Medis","Balandis","Cementas","Kaulas","Kirvis","Peilis","Šaukštas","Obuolys","Stalas","Bebras","Vilkas","Katinas","Paukštis","Butelys","Vaistas","Drebutis","Kokosas","Tvartas","Namas","Skystis","Vergas","Kilimas","Jungtukas","Bananas","Grėblys","Laivas","Langas","Ligonis","Lašas","Kalinys","Ratas","Robotas","Stalčius","Rašytojas","Ragas","Sakalas","Sausainis","Dešrainis","Mėsainis","Koldūnas","Kebabas","Skrandis","Arklys","Briedis","Erelis","Tigras","Zebras","Tiltas","Jankis","Kalnas","Kalvis","Kaklas","Protas","Juokas","Ežys","Fizikas","Fazanas","Kledaras","Elnias","Euras","Eržilas","Baronas","Baras","Batas","Banginis","Vabalas"],yt=.25,gt=.4;function Ct(t){return t[Math.floor(Math.random()*t.length)]}function kt(){let t="";return Math.random()<yt&&(t+=Ct(ft)+" "),t+=Ct(vt),Math.random()<gt&&(t+=" "+Ct(vt)),t}var _t=(t,e)=>t.map(t=>(console.log(t,e),{id:t.player.id,name:t.player.name,human:t.human,remote:t.hasOwnProperty("remote")?t.remote:"server"!=e||t.player.id!=e})),bt={name:"Lobby",components:{IntroCard:ot,MatchList:n("VU/8")(ut,ht,!1,function(t){n("MULD")},"data-v-466c7654",null).exports,MatchView:n("VU/8")(dt,pt,!1,function(t){n("H4H2")},"data-v-68f329b7",null).exports,PlayerDetail:n("VU/8")({name:"PlayerDetail",props:["playerName","setName"],data:function(){return{nameEdit:"",nameEditEnabled:!1}},methods:{editName:function(){this.nameEdit=this.playerName,this.nameEditEnabled=!0},applyEdit:function(){this.$network.online?this.$network.emit("setPlayerName",this.nameEdit):this.setName(this.nameEdit),this.nameEditEnabled=!1}}},mt,!1,function(t){n("wY+A")},"data-v-af220098",null).exports},props:["id"],data:function(){return{playerName:"A New Player",playerId:"",currentMatch:null,matches:[],messages:[]}},mounted:function(){this.$network.online?this.$network.emit("refreshLobby"):this.setName(kt()),this.id&&this.joinMatch(this.id)},sockets:{setId:function(t){this.playerId=t},refreshLobby:function(t){var e=t.playerName,n=t.playerId,a=t.matches;this.playerName=e,this.playerId=n,this.matches=a},startGame:function(){this.gotoGameView()},onPlayerNameChange:function(t){this.setName(t)},joinMatch:function(t){this.currentMatch=t,-1==this.$route.path.indexOf(t.id)&&this.$router.push({path:"/lobby/"+t.id})},leaveMatch:function(){this.currentMatch=null,this.$router.push({path:"/lobby/"})},onMatchUpdate:function(t){this.currentMatch=t},onError:function(t){console.log("Error from server: "+t)}},methods:{setName:function(t){this.playerName=t,this.$network.offline&&(this.playerId="[player]"+t)},startGame:function(){this.$network.online?this.$network.emit("startGame"):this.gotoGameView()},gotoGameView:function(){v("players",_t(this.currentMatch.players,this.playerId)),v("playerId",this.playerId),console.log("store player = ",_t(this.currentMatch.players,this.playerId)),this.$router.push({path:this.$network.online?"/game":"/game/offline"})},leaveMatch:function(){this.$network.online?this.$network.emit("leaveMatch"):this.currentMatch=null},joinMatch:function(t){this.$router.push({path:"/lobby/"+t}),this.$network.emit("joinMatch",t)},createMatch:function(){if(this.$network.online)this.$network.emit("createMatch",this.playerName+"'s Game");else{this.currentMatch={name:this.playerName+"'s Game",players:[]},this.addPlayerOffline(this.playerName);for(var t=0;t<3;t++)this.addPlayerOffline()}},addPlayerOffline:function(t){var e=1==arguments.length,n=e?t:kt();this.currentMatch.players.push({human:e,remote:!1,player:{name:n,id:(e?"[player]":"[bot]")+n}})},updateMatchNameOffline:function(t){this.currentMatch.name=t},kickPlayer:function(t){this.$network.online?this.$network.emit("kickPlayer",t):this.currentMatch.players.splice(t,1)}},watch:{$route:function(t,e){"In-Match Lobby"==t.name&&"In-Match Lobby"!=e.name&&this.joinMatch(t.params.id)}}},wt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lobby"},[n("IntroCard"),t._v(" "),n("PlayerDetail",{attrs:{playerName:t.playerName,setName:t.setName}}),t._v(" "),n("MatchList",{attrs:{joinMatch:t.joinMatch,createMatch:t.createMatch,currentMatch:t.currentMatch}}),t._v(" "),null!=t.currentMatch?n("MatchView",{attrs:{playerId:t.playerId,playerName:t.playerName,currentMatch:t.currentMatch,messages:t.messages,startGame:t.startGame,leaveMatch:t.leaveMatch,kickPlayer:t.kickPlayer,addPlayerOffline:t.addPlayerOffline,updateMatchNameOffline:t.updateMatchNameOffline}}):t._e()],1)},staticRenderFns:[]};var Mt=n("VU/8")(bt,wt,!1,function(t){n("5T5y"),n("9VGL")},"data-v-a3738092",null).exports;a.a.use(h.a);var Pt=new h.a({routes:[{path:"/",name:"Landing",component:nt},{path:"/game/",name:"Game",component:Z},{path:"/game/offline",name:"Offline Game",component:Z},{path:"/lobby",name:"Lobby",component:Mt,beforeEnter:function(t,e,n){a.a.prototype.$network.setupSocketio(),n()}},{path:"/lobby/offline",name:"Offline Lobby",component:Mt},{path:"/lobby/:id",name:"In-Match Lobby",props:!0,component:Mt,beforeEnter:function(t,e,n){a.a.prototype.$network.setupSocketio(),n()}},{path:"/join/:id",redirect:"/lobby/:id"},{path:"/library",name:"Library",component:it},{path:"/spin",name:"Spin",component:Y}]}),xt=n("hMcO"),St=n.n(xt),Et={install:function(t,e){var n={get baseUrl(){return e.local?"http://localhost:8080":"https://unolt.herokuapp.com"},get offline(){return Pt.currentRoute.path.indexOf("offline")>-1},get online(){return-1==Pt.currentRoute.path.indexOf("offline")},emit:function(e,n){this.offline?console.log("Attempted to emit an event while offline: "+e):t.prototype.$socket.emit(e,n)},setupSocketio:function(){e.local?t.use(St.a,"http://localhost:3000"):t.use(St.a,"https://playuno.app",{path:"/socket/socket.io"})}};t.prototype.$network=n}};s.c.add(i.c,i.e,i.i,i.h,i.d,i.b,i.a,i.f,i.g),a.a.use(l.a),a.a.component("font-awesome-icon",r.a),a.a.use(Et,{local:!1}),a.a.config.productionTip=!1,new a.a({el:"#app",router:Pt,components:{App:u},template:"<App/>"})},NnsG:function(t,e){},P5NS:function(t,e){},Zkfr:function(t,e){},dvsm:function(t,e){},eq4o:function(t,e){},gMMn:function(t,e){},hYhj:function(t,e){},iHBk:function(t,e){},mLt1:function(t,e){},"wY+A":function(t,e){},zD5E:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ea7408f83d2274b242d1.js.map